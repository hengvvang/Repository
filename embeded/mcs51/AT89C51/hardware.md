以下是基于AT89C51单片机的存储器布局和所有外设的全面、详细、结构清晰的介绍。我将综合之前的内容，涵盖内部RAM和SFR（特殊功能寄存器）的每个细节，包括功能、地址、位定义、使用场景和C51代码示例。内容按地址从00H到FFH由低到高排列，并按功能模块分组，确保逻辑清晰。

---

# AT89C51存储器与外设详解（00H - FFH）

AT89C51的存储器分为**内部RAM（00H-7FH，128字节）**和**特殊功能寄存器（SFR，80H-FFH，部分定义）**，共256字节。以下按地址顺序和功能模块介绍所有外设和存储单元。

---

## 一、存储器布局总览
- **内部RAM（00H-7FH）**: 数据存储区，分为工作寄存器、可位寻址区和通用RAM。
- **SFR（80H-FFH）**: 控制外设的寄存器，地址以8的倍数（如80H、88H）分隔，功能模块化。
- **规律**:
  - RAM地址连续，功能分区明确。
  - SFR以8字节为单位分组（如80H-87H为I/O和基本控制，88H-8FH为定时器）。

---

## 二、模块化介绍

### 模块1：内部RAM（00H-7FH）
内部RAM用于数据存储和程序运行支持，虽然不是传统外设，但与外设操作密切相关。

#### 1. 00H-1FH - 工作寄存器区（32字节）
- **地址范围**: 00H-1FH
- **结构**: 4组通用寄存器（R0-R7），每组8字节：
  - 00H-07H: 组0
  - 08H-0FH: 组1
  - 10H-17H: 组2
  - 18H-1FH: 组3
- **功能**:
  - 临时存储数据或操作数。
  - 通过PSW的RS1和RS0选择当前组（00=组0，01=组1，10=组2，11=组3）。
- **细节**:
  - 每组寄存器独立，切换组不影响其他组内容。
  - R0-R7可作为指针或计数器。
- **使用场景**: 循环计数、数据传递。
- **C51示例**:
  ```c
  #include <reg51.h>
  void main() {
      PSW = 0x08;    // 选择组1 (RS1=0, RS0=1)
      R0 = 0x5A;     // R0 (地址08H) 赋值为0x5A
      R1 = R0;       // 数据传递到R1 (09H)
      while(1);
  }
  ```

#### 2. 20H-2FH - 可位寻址区（16字节）
- **地址范围**: 20H-2FH
- **结构**: 16字节，共128位，位地址00H-7FH：
  - 20H.0-20H.7: 00H-07H
  - 21H.0-21H.7: 08H-0FH
  - ……
  - 2FH.0-2FH.7: 78H-7FH
- **功能**:
  - 存储单个位状态（如标志位）。
  - 支持位操作指令（SETB、CLR、JB等）。
- **细节**:
  - 位地址与字节地址对应，例如20H.0=00H，2FH.7=7FH。
  - 可用于中断标志或I/O状态。
- **使用场景**: LED状态控制、事件标志。
- **C51示例**:
  ```c
  #include <reg51.h>
  sbit led_flag = 0x20;  // 定义20H.0为LED标志
  void main() {
      led_flag = 1;       // 设置标志位
      if(led_flag) P1 = 0xFF; // 若标志为1，P1全高
      while(1);
  }
  ```

#### 3. 30H-7FH - 通用RAM区（80字节）
- **地址范围**: 30H-7FH
- **功能**:
  - 通用数据存储（如变量、数组）。
  - 堆栈存储，默认SP=07H，PUSH/POP操作使用此区域。
- **细节**:
  - 无位寻址，仅字节操作。
  - SP可设置为30H-7FH，推荐远离工作寄存器区。
- **使用场景**: 数据缓冲、函数调用堆栈。
- **C51示例**:
  ```c
  #include <reg51.h>
  unsigned char data buffer[5] _at_ 0x50; // 定义数组起始于50H
  void main() {
      buffer[0] = 0xAA;   // 50H赋值为0xAA
      SP = 0x60;          // 设置堆栈起始地址
      while(1);
  }
  ```

---

### 模块2：特殊功能寄存器（SFR，80H-FFH）
SFR是AT89C51外设控制的核心，按功能分组如下。

#### 2.1 I/O端口相关
##### 80H - P0（Port 0）
- **功能**: 控制P0引脚，可作为通用I/O或地址/数据复用总线（AD0-AD7）。
- **地址**: 80H（可位寻址）
- **特点**: 无内部上拉电阻，输出需外接上拉。
- **位定义**:
  | 位 | 缩写  | 全称            | 功能            |
  |----|-------|-----------------|-----------------|
  | 7  | P0.7  | Port 0 Bit 7    | P0.7引脚状态    |
  | 6  | P0.6  | Port 0 Bit 6    | P0.6引脚状态    |
  | 5  | P0.5  | Port 0 Bit 5    | P0.5引脚状态    |
  | 4  | P0.4  | Port 0 Bit 4    | P0.4引脚状态    |
  | 3  | P0.3  | Port 0 Bit 3    | P0.3引脚状态    |
  | 2  | P0.2  | Port 0 Bit 2    | P0.2引脚状态    |
  | 1  | P0.1  | Port 0 Bit 1    | P0.1引脚状态    |
  | 0  | P0.0  | Port 0 Bit 0    | P0.0引脚状态    |
- **细节**:
  - 复用时，P0与外部存储器配合，输出低8位地址和数据。
  - 作为I/O时，写1为高阻态，需上拉电阻。
- **使用场景**: 驱动LED、外部RAM接口。
- **C51示例**:
  ```c
  #include <reg51.h>
  void main() {
      P0 = 0x55;         // 输出01010101
      while(1);
  }
  ```

##### 90H - P1（Port 1）
- **功能**: 控制P1引脚，纯通用I/O。
- **地址**: 90H（可位寻址）
- **特点**: 内部有上拉电阻。
- **位定义**:
  | 位 | 缩写  | 全称            | 功能            |
  |----|-------|-----------------|-----------------|
  | 7  | P1.7  | Port 1 Bit 7    | P1.7引脚状态    |
  | 6  | P1.6  | Port 1 Bit 6    | P1.6引脚状态    |
  | 5  | P1.5  | Port 1 Bit 5    | P1.5引脚状态    |
  | 4  | P1.4  | Port 1 Bit 4    | P1.4引脚状态    |
  | 3  | P1.3  | Port 1 Bit 3    | P1.3引脚状态    |
  | 2  | P1.2  | Port 1 Bit 2    | P1.2引脚状态    |
  | 1  | P1.1  | Port 1 Bit 1    | P1.1引脚状态    |
  | 0  | P1.0  | Port 1 Bit 0    | P1.0引脚状态    |
- **细节**:
  - 无复用功能，适合直接驱动外设。
  - 输入时默认高电平（因上拉）。
- **使用场景**: 按键输入、LED控制。
- **C51示例**:
  ```c
  #include <reg51.h>
  sbit led = P1^0;       // P1.0定义为LED
  void main() {
      led = 0;            // P1.0输出低电平
      while(1);
  }
  ```

##### A0H - P2（Port 2）
- **功能**: 控制P2引脚，可作为I/O或高8位地址线（A8-A15）。
- **地址**: A0H（可位寻址）
- **特点**: 内部有上拉电阻。
- **位定义**:
  | 位 | 缩写  | 全称            | 功能            |
  |----|-------|-----------------|-----------------|
  | 7  | P2.7  | Port 2 Bit 7    | P2.7引脚状态    |
  | 6  | P2.6  | Port 2 Bit 6    | P2.6引脚状态    |
  | 5  | P2.5  | Port 2 Bit 5    | P2.5引脚状态    |
  | 4  | P2.4  | Port 2 Bit 4    | P2.4引脚状态    |
  | 3  | P2.3  | Port 2 Bit 3    | P2.3引脚状态    |
  | 2  | P2.2  | Port 2 Bit 2    | P2.2引脚状态    |
  | 1  | P2.1  | Port 2 Bit 1    | P2.1引脚状态    |
  | 0  | P2.0  | Port 2 Bit 0    | P2.0引脚状态    |
- **细节**:
  - 复用时与P0配合，输出高8位地址。
  - I/O模式下与P1类似。
- **使用场景**: 外部ROM地址、通用输出。
- **C51示例**:
  ```c
  #include <reg51.h>
  void main() {
      P2 = 0xAA;         // 输出10101010
      while(1);
  }
  ```

##### B0H - P3（Port 3）
- **功能**: 控制P3引脚，兼具特殊功能（中断、串口、定时器输入等）。
- **地址**: B0H（可位寻址）
- **特点**: 内部有上拉电阻。
- **位定义**:
  | 位 | 缩写  | 全称            | 功能                  |
  |----|-------|-----------------|-----------------------|
  | 7  | P3.7  | Port 3 Bit 7    | RD（读信号）或I/O     |
  | 6  | P3.6  | Port 3 Bit 6    | WR（写信号）或I/O     |
  | 5  | P3.5  | Port 3 Bit 5    | T1（Timer1输入）或I/O |
  | 4  | P3.4  | Port 3 Bit 4    | T0（Timer0输入）或I/O |
  | 3  | P3.3  | Port 3 Bit 3    | INT1（外部中断1）或I/O|
  | 2  | P3.2  | Port 3 Bit 2    | INT0（外部中断0）或I/O|
  | 1  | P3.1  | Port 3 Bit 1    | TXD（串口发送）或I/O  |
  | 0  | P3.0  | Port 3 Bit 0    | RXD（串口接收）或I/O  |
- **细节**:
  - 每位有双重功能，优先级由程序控制。
  - 特殊功能启用时，相应位失去I/O能力。
- **使用场景**: 串口通信、中断触发。
- **C51示例**:
  ```c
  #include <reg51.h>
  sbit tx_pin = P3^1;    // TXD引脚
  void main() {
      tx_pin = 0;         // 测试TXD输出低
      while(1);
  }
  ```

#### 2.2 定时器/计数器相关
##### 88H - TCON（Timer Control）
- **功能**: 控制定时器运行和外部中断。
- **地址**: 88H（可位寻址）
- **位定义**:
  | 位 | 缩写 | 全称             | 功能                        |
  |----|------|------------------|-----------------------------|
  | 7  | TF1  | Timer 1 Flag     | Timer1溢出标志（1=溢出，需清零） |
  | 6  | TR1  | Timer 1 Run      | Timer1运行控制（1=启动，0=停止） |
  | 5  | TF0  | Timer 0 Flag     | Timer0溢出标志（1=溢出，需清零） |
  | 4  | TR0  | Timer 0 Run      | Timer0运行控制（1=启动，0=停止） |
  | 3  | IE1  | Interrupt 1 Edge | 外部中断1标志（1=触发，需清零）  |
  | 2  | IT1  | Interrupt 1 Type | 外部中断1触发类型（1=边沿，0=电平） |
  | 1  | IE0  | Interrupt 0 Edge | 外部中断0标志（1=触发，需清零）  |
  | 0  | IT0  | Interrupt 0 Type | 外部中断0触发类型（1=边沿，0=电平） |
- **细节**:
  - TFx由硬件置1，软件清零。
  - ITx决定中断触发方式，影响P3.2/P3.3。
- **使用场景**: 定时延时、中断触发。
- **C51示例**:
  ```c
  #include <reg51.h>
  void main() {
      TMOD = 0x01;   // Timer0模式1（16位）
      TH0 = 0x3C;    // 初值约50ms（12MHz）
      TL0 = 0xB0;
      TR0 = 1;       // 启动Timer0
      while(!TF0);   // 等待溢出
      TR0 = 0;       // 停止
      TF0 = 0;       // 清标志
      while(1);
  }
  ```

##### 89H - TMOD（Timer Mode）
- **功能**: 配置定时器/计数器的工作模式。
- **地址**: 89H（不可位寻址）
- **位定义**:
  | 位 | 缩写  | 全称             | 功能                        |
  |----|-------|------------------|-----------------------------|
  | 7  | GATE1 | Gate Timer 1     | Timer1门控（1=外部控制，需P3.5） |
  | 6  | C/T1  | Counter/Timer 1  | Timer1计数/定时（1=计数P3.5，0=定时） |
  | 5  | M1_T1 | Mode 1 Timer 1   | Timer1模式高位              |
  | 4  | M0_T1 | Mode 0 Timer 1   | Timer1模式低位              |
  | 3  | GATE0 | Gate Timer 0     | Timer0门控（1=外部控制，需P3.4） |
  | 2  | C/T0  | Counter/Timer 0  | Timer0计数/定时（1=计数P3.4，0=定时） |
  | 1  | M1_T0 | Mode 1 Timer 0   | Timer0模式高位              |
  | 0  | M0_T0 | Mode 0 Timer 0   | Timer0模式低位              |
- **细节**:
  - 模式（M1:M0）：00=13位，01=16位，10=8位自动重装，11=分拆。
  - GATE与P3引脚配合，控制计数启用。
- **使用场景**: 定时、外部脉冲计数。
- **C51示例**: 见TCON。

##### 8AH - TL0（Timer 0 Low）
- **功能**: Timer0低8位计数值。
- **地址**: 8AH（不可位寻址）
- **细节**: 与TH0组成16位计数器，溢出置TF0。
- **使用场景**: 设置定时初值。
- **C51示例**: 见TCON。

##### 8BH - TL1（Timer 1 Low）
- **功能**: Timer1低8位计数值。
- **地址**: 8BH（不可位寻址）
- **细节**: 与TH1组成16位计数器，溢出置TF1。
- **使用场景**: 同TL0。
- **C51示例**: 同TL0。

##### 8CH - TH0（Timer 0 High）
- **功能**: Timer0高8位计数值。
- **地址**: 8CH（不可位寻址）
- **细节**: 配合TL0，初值决定定时时间。
- **使用场景**: 同TL0。
- **C51示例**: 见TCON。

##### 8DH - TH1（Timer 1 High）
- **功能**: Timer1高8位计数值。
- **地址**: 8DH（不可位寻址）
- **细节**: 常用于串口波特率生成。
- **使用场景**: 同TL0。
- **C51示例**: 见SCON。

#### 2.3 串口相关
##### 98H - SCON（Serial Control）
- **功能**: 控制串口工作模式和状态。
- **地址**: 98H（可位寻址）
- **位定义**:
  | 位 | 缩写 | 全称             | 功能                        |
  |----|------|------------------|-----------------------------|
  | 7  | SM0  | Serial Mode 0    | 串口模式高位                |
  | 6  | SM1  | Serial Mode 1    | 串口模式低位                |
  | 5  | SM2  | Serial Mode 2    | 多机通信控制（1=启用）      |
  | 4  | REN  | Receive Enable   | 接收使能（1=允许）          |
  | 3  | TB8  | Transmit Bit 8   | 发送第9位数据（模式2/3）    |
  | 2  | RB8  | Receive Bit 8    | 接收第9位数据（模式2/3）    |
  | 1  | TI   | Transmit Interrupt | 发送中断标志（1=完成，需清零） |
  | 0  | RI   | Receive Interrupt  | 接收中断标志（1=完成，需清零） |
- **细节**:
  - 模式（SM0:SM1）：00=移位寄存器，01=8位UART，10=9位UART，11=9位UART。
  - 波特率由Timer1或PCON.SMOD控制。
- **使用场景**: 串口通信。
- **C51示例**:
  ```c
  #include <reg51.h>
  void main() {
      TMOD = 0x20;   // Timer1模式2（自动重装）
      TH1 = 0xFD;    // 9600波特率（12MHz）
      TR1 = 1;       // 启动Timer1
      SCON = 0x50;   // 模式1，接收使能
      SBUF = 'A';    // 发送字符A
      while(!TI);    // 等待发送完成
      TI = 0;        // 清标志
      while(1);
  }
  ```

##### 99H - SBUF（Serial Buffer）
- **功能**: 串口数据缓冲区。
- **地址**: 99H（不可位寻址）
- **细节**:
  - 写SBUF发送数据，读SBUF获取接收数据。
  - 发送和接收缓冲独立。
- **使用场景**: 数据收发。
- **C51示例**: 见SCON。

#### 2.4 中断相关
##### A8H - IE（Interrupt Enable）
- **功能**: 控制中断使能。
- **地址**: A8H（可位寻址）
- **位定义**:
  | 位 | 缩写 | 全称             | 功能                  |
  |----|------|------------------|-----------------------|
  | 7  | EA   | Enable All       | 全局中断使能（1=开启）|
  | 6  | -    | -                | 未使用                |
  | 5  | -    | -                | 未使用                |
  | 4  | ES   | Enable Serial    | 串口中断使能          |
  | 3  | ET1  | Enable Timer 1   | Timer1中断使能        |
  | 2  | EX1  | Enable External 1| 外部中断1使能         |
  | 1  | ET0  | Enable Timer 0   | Timer0中断使能        |
  | 0  | EX0  | Enable External 0| 外部中断0使能         |
- **细节**:
  - EA为0时禁用所有中断。
  - 中断向量：EX0=0003H，ET0=000BH，EX1=0013H，ET1=001BH，ES=0023H。
- **使用场景**: 中断驱动程序。
- **C51示例**:
  ```c
  #include <reg51.h>
  void timer0_isr() interrupt 1 {
      P1 ^= 0xFF;    // 反转P1
  }
  void main() {
      TMOD = 0x01;
      TH0 = 0x3C;
      TL0 = 0xB0;
      EA = 1;        // 全局使能
      ET0 = 1;       // Timer0使能
      TR0 = 1;       // 启动Timer0
      while(1);
  }
  ```

##### B8H - IP（Interrupt Priority）
- **功能**: 设置中断优先级。
- **地址**: B8H（可位寻址）
- **位定义**:
  | 位 | 缩写 | 全称             | 功能                  |
  |----|------|------------------|-----------------------|
  | 7  | -    | -                | 未使用                |
  | 6  | -    | -                | 未使用                |
  | 5  | -    | -                | 未使用                |
  | 4  | PS   | Priority Serial  | 串口优先级（1=高）    |
  | 3  | PT1  | Priority Timer 1 | Timer1优先级（1=高）  |
  | 2  | PX1  | Priority External 1 | 外部中断1优先级（1=高） |
  | 1  | PT0  | Priority Timer 0 | Timer0优先级（1=高）  |
  | 0  | PX0  | Priority External 0 | 外部中断0优先级（1=高） |
- **细节**:
  - 默认低优先级，置1为高优先级。
  - 高优先级中断可打断低优先级。
- **使用场景**: 多中断管理。
- **C51示例**: 见IE。

#### 2.5 基本控制与状态
##### 81H - SP（Stack Pointer）
- **功能**: 指示堆栈顶部地址。
- **地址**: 81H（不可位寻址）
- **细节**:
  - 默认07H，PUSH增1，POP减1。
  - 范围通常30H-7FH。
- **使用场景**: 函数调用保存现场。
- **C51示例**:
  ```c
  #include <reg51.h>
  void func() {
      P1 = 0xAA;
  }
  void main() {
      SP = 0x60;     // 设置堆栈起始地址
      func();        // 调用函数，SP自动变化
      while(1);
  }
  ```

##### 82H - DPL（Data Pointer Low）
- **功能**: 16位DPTR的低8位，用于外部存储器寻址。
- **地址**: 82H（不可位寻址）
- **细节**: 与DPH组成16位地址。
- **使用场景**: 访问外部RAM/ROM。
- **C51示例**: 见DPH。

##### 83H - DPH（Data Pointer High）
- **功能**: 16位DPTR的高8位。
- **地址**: 83H（不可位寻址）
- **细节**: 同DPL。
- **使用场景**: 同DPL。
- **C51示例**:
  ```c
  #include <reg51.h>
  void main() {
      DPTR = 0x1234; // DPH=12H, DPL=34H
      P0 = DPL;      // 输出低字节
      while(1);
  }
  ```

##### 87H - PCON（Power Control）
- **功能**: 电源模式和串口波特率控制。
- **地址**: 87H（不可位寻址）
- **位定义**:
  | 位 | 缩写 | 全称             | 功能                  |
  |----|------|------------------|-----------------------|
  | 7  | SMOD | Serial Mode Double | 波特率加倍（1=加倍）  |
  | 6  | -    | -                | 未使用                |
  | 5  | -    | -                | 未使用                |
  | 4  | -    | -                | 未使用                |
  | 3  | GF1  | General Flag 1   | 通用标志1（自定义）   |
  | 2  | GF0  | General Flag 0   | 通用标志0（自定义）   |
  | 1  | PD   | Power Down       | 掉电模式（1=进入）    |
  | 0  | IDL  | Idle Mode        | 空闲模式（1=进入）    |
- **细节**:
  - 掉电模式停止振荡器，仅外部复位唤醒。
  - SMOD影响串口波特率计算。
- **使用场景**: 低功耗、串口优化。
- **C51示例**:
  ```c
  #include <reg51.h>
  void main() {
      PCON |= 0x01;  // 进入空闲模式
      while(1);
  }
  ```

##### D0H - PSW（Program Status Word）
- **功能**: 反映CPU状态。
- **地址**: D0H（可位寻址）
- **位定义**:
  | 位 | 缩写 | 全称             | 功能                |
  |----|------|------------------|---------------------|
  | 7  | CY   | Carry Flag       | 进位标志            |
  | 6  | AC   | Auxiliary Carry  | 辅助进位标志（BCD运算） |
  | 5  | F0   | Flag 0           | 用户标志            |
  | 4  | RS1  | Register Select 1| 寄存器组选择高位    |
  | 3  | RS0  | Register Select 0| 寄存器组选择低位    |
  | 2  | OV   | Overflow Flag    | 溢出标志            |
  | 1  | -    | -                | 未使用              |
  | 0  | P    | Parity Flag      | 奇偶校验标志        |
- **细节**:
  - RS1:RS0选择工作寄存器组（00=组0，01=组1，10=组2，11=组3）。
  - CY、OV由运算自动更新。
- **使用场景**: 运算状态监测。
- **C51示例**: 见工作寄存器区。

##### E0H - ACC（Accumulator）
- **功能**: 算术和逻辑运算核心寄存器。
- **地址**: E0H（可位寻址）
- **位定义**:
  | 位 | 缩写  | 全称             | 功能            |
  |----|-------|------------------|-----------------|
  | 7  | ACC.7 | Accumulator Bit 7| ACC第7位        |
  | 6  | ACC.6 | Accumulator Bit 6| ACC第6位        |
  | 5  | ACC.5 | Accumulator Bit 5| ACC第5位        |
  | 4  | ACC.4 | Accumulator Bit 4| ACC第4位        |
  | 3  | ACC.3 | Accumulator Bit 3| ACC第3位        |
  | 2  | ACC.2 | Accumulator Bit 2| ACC第2位        |
  | 1  | ACC.1 | Accumulator Bit 1| ACC第1位        |
  | 0  | ACC.0 | Accumulator Bit 0| ACC第0位        |
- **细节**:
  - 参与所有算术、逻辑和移位操作。
  - 可位寻址，用于位操作。
- **使用场景**: 数据处理。
- **C51示例**:
  ```c
  #include <reg51.h>
  void main() {
      ACC = 0x05 + 0x03; // ACC=0x08
      P1 = ACC;          // 输出结果
      while(1);
  }
  ```

##### F0H - B（B Register）
- **功能**: 乘除法辅助寄存器。
- **地址**: F0H（可位寻址）
- **位定义**:
  | 位 | 缩写 | 全称             | 功能            |
  |----|------|------------------|-----------------|
  | 7  | B.7  | B Register Bit 7 | B第7位          |
  | 6  | B.6  | B Register Bit 6 | B第6位          |
  | 5  | B.5  | B Register Bit 5 | B第5位          |
  | 4  | B.4  | B Register Bit 4 | B第4位          |
  | 3  | B.3  | B Register Bit 3 | B第3位          |
  | 2  | B.2  | B Register Bit 2 | B第2位          |
  | 1  | B.1  | B Register Bit 1 | B第1位          |
  | 0  | B.0  | B Register Bit 0 | B第0位          |
- **细节**:
  - MUL AB：结果高位存B，低位存ACC。
  - DIV AB：商存ACC，余数存B。
- **使用场景**: 数学运算。
- **C51示例**:
  ```c
  #include <reg51.h>
  void main() {
      ACC = 0x05;        // 被乘数
      B = 0x03;          // 乘数
      MUL AB;            // 结果：ACC=0x0F, B=0x00
      P1 = ACC;          // 输出低字节
      while(1);
  }
  ```

---

### 模块3：未定义地址
- **地址范围**: 80H-FFH中未定义部分（如84H-86H、8EH-8FH等）。
- **功能**: 无定义，读写无意义。
- **细节**:
  - 未分配功能的地址，可能返回随机值。
  - 程序应避免访问。
- **使用场景**: 无。

---

## 三、外设功能总结
1. **I/O端口**（P0, P1, P2, P3）:
   - 控制32个引脚，支持输入输出，部分复用（如P0、P2用于存储器，P3用于串口/中断）。
2. **定时器/计数器**（Timer0, Timer1）:
   - 两个16位定时器，支持4种模式（13位、16位、8位自动重装、分拆）。
   - 可定时或计数外部脉冲。
3. **串口**（UART）:
   - 全双工，支持4种模式，波特率由Timer1或固定时钟生成。
4. **中断系统**:
   - 5个中断源（2外部、2定时器、1串口），支持两级优先级。
5. **基本控制与状态**:
   - SP管理堆栈，DPTR寻址外部存储器，PCON控制电源，PSW、ACC、B支持运算。

---

## 四、完整存储器映射表
| 地址范围 | 类型      | 功能模块            | 主要寄存器         |
|----------|-----------|---------------------|--------------------|
| 00H-1FH  | RAM       | 工作寄存器区        | R0-R7（4组）      |
| 20H-2FH  | RAM       | 可位寻址区          | 128位（00H-7FH）  |
| 30H-7FH  | RAM       | 通用RAM区           | 数据/堆栈         |
| 80H-87H  | SFR       | I/O与基本控制       | P0, SP, DPL, DPH, PCON |
| 88H-8FH  | SFR       | 定时器             | TCON, TMOD, TL0, TL1, TH0, TH1 |
| 90H-97H  | SFR       | I/O端口            | P1                |
| 98H-9FH  | SFR       | 串口              | SCON, SBUF        |
| A0H-A7H  | SFR       | I/O端口            | P2                |
| A8H-AFH  | SFR       | 中断控制          | IE                |
| B0H-B7H  | SFR       | I/O端口            | P3                |
| B8H-BFH  | SFR       | 中断优先级        | IP                |
| D0H-D7H  | SFR       | CPU状态           | PSW               |
| E0H-E7H  | SFR       | 运算寄存器        | ACC               |
| F0H-F7H  | SFR       | 运算寄存器        | B                 |

---

## 五、总结
- **RAM（00H-7FH）**: 提供数据存储和运行支持，分为三区，灵活性高。
- **SFR（80H-FFH）**: 控制所有外设，地址分段清晰，模块化设计。
- **细节覆盖**: 每个寄存器功能、位定义、使用场景和示例齐全，确保全面理解。

如需更具体应用或代码扩展，请告诉我！
